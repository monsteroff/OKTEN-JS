<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS6 - Classwork</title>
</head>
<body>
    <script>
        // - Дано список імен.
        // let n1 = 'Harry..Potter'
        // let n2 = 'Ron---Whisley'
        // let n3 = 'Hermione__Granger'
        // Написати функцію, яка приймає будь яке не валідне імя, та нормалізує його в наступнйи вигляд
        // let n1 = 'Harry Potter'
        // let n2 = 'Ron Whisley'
        // let n3 = 'Hermione Granger'

        let n1 = 'Ha.rry...Pot..te.r';
        let n2 = 'Ron---Whisley-------------Jax----impossibru';
        let n3 = 'Hermione__Granger____';
        let n4 = 'Budet                 rabotat  v prakticheski     lubom sluchae ))';

        let prohibitedChars = [".","-","_"," "];

        function normalize(str){
            let strArray = str.split("");
            let menyat = [];
            let menyatNaPustoy = [];
            let menyatNaProbel = [];
            let newStrArray = [];
            for(let j = 0; j < prohibitedChars.length;j++){
                for(let i = 0; i < strArray.length ; i++){
                    if(strArray[i] === prohibitedChars[j]){
                        menyat.push(i)
                    }
                }
            }
            for(let i = 0; i < menyat.length ; i++){
                if((i<menyat.length-1) && (menyat[i]+1 === menyat[i+1])){
                    menyatNaPustoy.push(menyat[i]);
                } else {
                    menyatNaProbel.push(menyat[i]);
                }
            }
            for (let i = 0 ; i < strArray.length ; i++){
                if(menyatNaPustoy.includes(i)){
                    newStrArray.push("")
                } else if(menyatNaProbel.includes(i)){
                    newStrArray.push(" ")
                } else {
                    newStrArray.push(strArray[i])
                }
            }
            let newStr = newStrArray.join("");
            console.log(newStr);
        }
        
        normalize(n1);
        normalize(n2);
        normalize(n3);
        normalize(n4);

        // - створити функцію, яка генерує масив рандомних числових цілих значень в діапазоні від 0 до 100.
        let generatorFigni = () => {
            let generatedArray = [];
            for(let i = 0 ; i<10 ; i++){
                generatedArray[i] = Math.round(Math.random()*100);
            }
            return generatedArray;
        };
        console.log(generatorFigni());
        // - створити (або згенерувати, за допомоги попередньої функції) масив рандомних цілих числових
        //  значень. Відсортувати його за допомоги sort
        console.log(generatorFigni().sort((a,b) => a-b));

        // - створити (або згенерувати, за допомоги попередньої функції) масив рандомних цілих числових 
        // значень. відфільтрувати  його за допомоги filter, залишивши тільки парні числа
        console.log(generatorFigni().sort((a,b) => a-b).filter(f => f % 2 === 0));
        
        // - створити масив рандомних цілих числових значень (або згенерувати, за допомоги 
        // попередньої функції) . за допомоги map та колбеку перетворити всі об'єкти в масиві на стрінгові.
        console.log(generatorFigni().sort((a,b) => a-b).filter(f => f % 2 === 0).map(m => {
            m = `${m}`;
            return m;
        }));
        
        // - створити функцію sortNums(direction), яка прймає масив чисел, та сортує його від більшого до меньшого,
        // або навпаки в залежності від значення аргументу direction.
        // let nums = [11,21,3];
        // sortNums('ascending') // [3,11,21]
        // sortNums('descending') // [21,11,3]
        let sortNums = (nums,direction) => {
            if(direction === "descending") return nums.sort((a,b) => a-b);
            else if (direction === "ascending") return nums.sort((a,b) => b-a);
        };
        console.log(sortNums(generatorFigni(),"ascending"));

        // - є масив
        let coursesAndDurationArray = [
            {title: 'JavaScript Complex', monthDuration: 5},
            {title: 'Java Complex', monthDuration: 6},
            {title: 'Python Complex', monthDuration: 6},
            {title: 'QA Complex', monthDuration: 4},
            {title: 'FullStack', monthDuration: 7},
            {title: 'Frontend', monthDuration: 4}
        ];
        // -- відсортувати його за спаданням за monthDuration
        console.log(coursesAndDurationArray.sort((course1,course2) =>  course2.monthDuration - course1.monthDuration));
        // -- відфільтрувати , залишивши тільки курси з тривалістю більше 5 місяців
        console.log(coursesAndDurationArray.sort((course1,course2) =>  course2.monthDuration - course1.monthDuration).filter(f => f.monthDuration > 5));

    </script>
</body>
</html>